//Article View

@import 'colors.scss';
@import 'material-shadow.scss';

$lr-padding: 15px; //does not apply to all elements

$act-btn-height: 36px;
$act-padding: 8px;

$pagination-size: 2em;

.article-view {
    @include material-shadow(1);

    position: absolute;
    top: 10px;
    left: 20px;
    right: 20px;
    bottom: 10px;
    max-height: inherit;
    overflow: hidden;

    border-radius: 2px;
    background: $color-card-background;
}

#content-wrapper {
    position: absolute;
    top: 0;
    right: 0;
    bottom: $act-btn-height + ($act-padding * 2);
    left: 0;
    overflow-y: auto;
}

.article-view #subject {
    color: $color-grey;
    font-size: 12px;
    line-height: 15px;
    margin-top: 20px;
    margin-bottom: 20px;
    width: 100%;
    text-align: center;
}

.article-view #edit-menu {
    position: absolute;
    top: 10px;
    right: 10px;
    
    font-size: 12px;
    text-align: right;

    .primary-text {
        color: $color-font;
    }

    a {
        color: $color-grey;
    }
}

.btn-edit  {
    visibility: visible;
    color: $color-font;	
    background-color: $color-background;
    font-family: 'SourceSansPro', sans-serif;
    clear: both;
}
.btn-edit:hover {
    background-color: lighten($color-grey, 8%);
}

.article-view .text.edit-field {
    padding: $lr-padding;
    height: 24em;
    margin-top: 5em;;
}

.article-view #title-wrapper {
    position: relative;
    margin-top: 8px;
    margin: 0 $lr-padding;
}


.article-view .title {
    font-size: 1.5em;
    font-family: 'Montserrat', sans-serif;	
}

.article-view #title-wrapper .edit-field {
    line-height: 1.813em;
    height: 6em;
}

.article-view #image-wrapper {
    position: relative;
    width: 100%;
    max-height: 50vh;
    display: block;
    margin: 14px 0 0 0;
    justify-content: center;
    text-align: center;
    clear: both;

    #nav-right {
        position: absolute;
        top: 50%;
        right: 15px;
        bottom: 50%;
        z-index: 100;
    }
    #nav-left {
        position: absolute;
        top: 50%;
        left: 15px;
        bottom: 50%;
        z-index: 100;
    }
}
        
    .article-view #image-wrapper::before {
        content: '';
        display: inline-block;
        height: 100%;
        vertical-align: middle;
        margin-right: -0.25em;
    }
        
#image-wrapper .nav-arrow{
    @include material-shadow(2);
    
    $nav-icon-size: .75em;
    $nav-circle-size: 2.5em;

    background-color: $color-primary;
    
    width: $nav-circle-size;
    height: $nav-circle-size;
    border-radius: $nav-circle-size / 2;
    transition: box-shadow .25s ease-in-out;

    font-size: $nav-icon-size;
    color: #fff;

    padding: (($nav-circle-size - $nav-icon-size) / 2) - .1em;
    text-align: center;
    justify-content: center;
    vertical-align: middle;
}
    #image-wrapper .nav-arrow:hover{
        @include material-shadow(2);

        cursor: pointer;
        background-color: $color-primary-700;	
        transition: box-shadow .25s ease-in-out;
    }

.article-view #image-wrapper .greyout {
    visibility: hidden;
}
        
.article-view .article-image {
    display: inline-block;
    margin: auto;
    justify-content: center;
    text-align: center;
}
        
.article-view .article-image .image{
    width: 100%;
    max-height: 50vh;
    vertical-align: middle;
}

.article-view #image-load-error {
    color: $color-accent;
}
        
.article-view .text-wrapper {
    margin: 0 $lr-padding $lr-padding $lr-padding;
    position: relative;
    top: 30px;
}

.article-view .text {
    display: block;
    font-size: 1.125em;
    line-height: 1.125em;
    clear: both;
    white-space: pre-line;
}

.article-view .edit-field {
    padding: 0 1vw;
    width: 100%;
}
   
.article-view  .editable-buttons {
    float: right;
    margin: 5px 0 75px 0;
}

.article-view #id {
    color: $color-grey;
    font-size: 14px;
    line-height: 18px;
    position: absolute;
    left: 15px;
    bottom: 15px;
    a {
        color: $color-grey;
    }
}



#action-area {
    position: absolute;
    right: 0;
    bottom: 0;
    left: 0;
    
    height: $act-btn-height + ($act-padding * 2);
    padding: $act-padding;

    border-top: 1px solid $color-grey;
    display: inline-block;
}
/*
#action-area .btn {
    height: $act-btn-height;
    background: transparent;
    border: none;
    border-radius: 2px !important;
    
    float: right;
    font-weight: 700;
}

#action-area .btn-default{
    color: $color-font;
}

#action-area .btn-default:hover,
#action-area .btn-default:focus{
    background: rgba($color-font, .12);
}

#action-area .btn-primary{
    color: $color-primary;
}

#action-area .btn-primary:hover,
#action-area .btn-primary:focus,
#action-area .btn-primary:active,
#action-area .btn-primary.open{
    background: rgba($color-primary, .12);
    box-shadow: none;
}*/
/*
#action-area .dropdown-menu.open {
    @include material-shadow(2);
    
    position: relative;
    top: -350%;
    right: 0;
    height: auto;
    max-height: 25vh;
    transition: max-height .25s ease-in-out;
    max-width: 70%;
    background-color: #fff;
    border: none;
    border-radius: 2px;
    z-index: 101;
}*/

#action-area .material-btn {
    margin: 0;
    font-weight: 700;
}

#action-area .btn-group.open .dropdown-toggle {
    width: 100% !important;
    min-width: initial !important;
    box-shadow: none;
    background: rgba($color-primary, .12);
}

#action-area #version-pagniation {
    position: absolute;
    left: 15px;
    bottom: 7px;
    
    .pagination {
        margin: 0;
    }

    .pagination > .disabled > a {
        color: $color-grey;
    }

    .pagination-sm > li:first-child > a {
        width: auto !important;
        padding: 0 5px !important;
    }
    .pagination-sm > li:first-child > a:hover {
        border-radius: 2px;
    }

    .pagination-sm > li:last-child > a {
        width: auto !important;
        padding: 0 5px !important;
    }
    .pagination-sm > li:last-child > a:hover {
        border-radius: 2px;
    }

    .pagination>li>a {
        width: $pagination-size;
        height: $pagination-size;
        line-height: $pagination-size;
        
        padding: 0;
        border: none;
        border-radius: 50%;
        text-align: center;
        margin-right: 3px;

        color: $color-primary;
    }

    .pagination>.active>a {
        
        width: $pagination-size;
        height: $pagination-size;
        line-height: $pagination-size;

        padding: 0;
        border-radius: 50%;
        text-align: center;

        background-color: $color-primary;
        color: $color-primary-contrast;
    }
}

#overflow-btn{
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 100;
    background-color: transparent;
    width: 2.5em;
    height: 2.5em;
    font-size: 1em;
    color: #bdbdbd;
    padding-top: 0.65em;
    text-align: center;
    justify-content: center;
    vertical-align: middle;
}

#overflow-menu .caret {
    visibility: hidden;
}

#overflow-menu .btn.btn-default.dropdown-toggle:after {
    font-family: 'Glyphicons Halflings';
    content: '\e235';
    margin-left: -.25em;
}

#overflow-menu .btn.btn-default.dropdown-toggle {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 100;
    background-color: white;
    width: 2.5em;
    height: 2.5em;
    border-radius: 1.25em;
    font-size: 1em;
    color: #bdbdbd;
    padding-top: 0.45em;
    text-align: center;
    justify-content: center;
    vertical-align: middle;
    
    border: none;
    box-shadow: none;
}

    #overflow-menu .btn.btn-default.dropdown-toggle:hover {
        cursor: pointer;
        background-color: lighten($color-grey, 20%);
    }

    #overflow-menu .btn.btn-default.dropdown-toggle:active,
    #overflow-menu .btn.btn-default.dropdown-toggle:focus {
        cursor: pointer;
        background-color: lighten($color-grey, 15%);
    }

#overflow-menu .dropdown-menu.open {
    @include material-shadow(2);
    
    position: relative;
    top: 30px;
    left: -35%;
    height: auto;
    width: 120%;
    max-height: 25vh;
    transition: max-height .25s ease-in-out;
    background-color: #fff;
    border: none;
    border-radius: 2px;
    z-index: 101;
}

#content-wrapper .form-control {
    box-shadow: none;
    -webkit-box-shadow: none;
    width: auto;
    position: absolute;
    top: 0;
    right: 0;
}

#content-wrapper .edit-field.form-control {
    width: 100% !important;
}